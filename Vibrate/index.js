(function(c){"use strict";const{metro:i,logger:M,commands:g}=vendetta,{vibrate:f}=i.findByProps("vibrate"),y=function(e){return i.findByProps("View").Platform.select({ios:[e],android:e})},d={},m=[];d.onUnload=function(){return m.every(function(e){return e(),!0})};const b=i.findByProps("sendMessage","receiveMessage"),h=i.findByProps("createBotMessage"),w=i.findByProps("BOT_AVATARS");function p(e,a){a?.author.avatar&&a?.author?.avatarURL&&(w.BOT_AVATARS[a.author.avatar]=a.author.avatarURL,delete a.author.avatarURL);let t=h.createBotMessage(e);return t=i.findByProps("merge").merge(t,a),b.receiveMessage(e.channelId,t),t}d.onLoad=function(){m[0]=g.registerCommand({execute:B,type:1,inputType:1,applicationId:"-1",name:"vibrate begin",displayName:"vibrate",description:"b"+"r".repeat(50),displayDescription:"b"+"r".repeat(50),options:[{type:4,required:!0,name:"duration",displayName:"duration",description:"Duration of one vibration (in milliseconds)",displayDescription:"Duration of one vibration (in milliseconds)",min_value:1,max_value:9999},{type:4,name:"repeat",displayName:"repeat",description:"Number of times to repeat",displayDescription:"Number of times to repeat",min_value:1,max_value:9999999},{type:4,name:"gap",displayName:"gap",description:"Wait between vibrates (only matters if you have more than 1 repeat)",displayDescription:"Wait between vibrates (only matters if you have more than 1 repeat)"}]})};const l={username:"/vibrate",avatar:"clyde"};async function B(e,a){const t=new Map(e.map(function(o){return[o.name,o]})),u=t.get("duration").value,n=t.get("repeat")?.value,r=t.get("gap")?.value;p({channelId:a.channel.id,content:`<:vibrating:1095354969965731921> Vibrating for ${u}ms`+(n?`, ${n} time${n===1?"":"s"}`:"")+"."+(r?`With a gap of ${r}ms.`:"")},l),D(u,n,r,function(o,v,s){p({channelId:a.channel.id,content:"<:still:1095977283212296194> Finished vibrating."},l)})}async function D(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=arguments.length>3?arguments[3]:void 0;const n=function(s){return new Promise(function(P){return setTimeout(P,s)})},r=`${+Date.now()}`,o=Date.now();for(let s=0;s<a;s++)f(y(e),!0),await n(e),await n(t);const v=Date.now();u(r,o,v)}return c.default=d,Object.defineProperty(c,"__esModule",{value:!0}),c})({});
