(function(a){"use strict";const{React:n,ReactNative:l}=vendetta.metro.common,{plugin:{storage:s},storage:{useProxy:c},ui:{components:{Forms:m}}}=vendetta,{FormRow:d,FormSection:u,FormSwitch:g}=m;function f(t){return c(s),n.createElement(l.ScrollView,{style:{flex:1}},n.createElement(u,{title:"NoDelete settings"},n.createElement(d,{label:"Show the time of deletion",leading:n.createElement(g,{value:s.timestamps??!1,onValueChange:function(e){return s.timestamps=e}})})))}const r={settings:f},{plugin:{storage:p},patcher:{before:E}}=vendetta;let o=[];return r.onLoad=function(){return r.onUnload=E("dispatch",vendetta.metro.common.FluxDispatcher,function(t){const[e]=t;if(e.type==="MESSAGE_DELETE"){if(o.includes(e.id))return delete o[o.indexOf(e.id)],t;let i="This message was deleted.";return i+=p.timestamps?` (${vendetta.metro.common.moment(new Date).toLocaleString()})`:"",console.log(i),o.push(e.id),t[0]={type:"MESSAGE_EDIT_FAILED_AUTOMOD",messageData:{type:1,message:{channelId:e.channelId,messageId:e.id}},errorResponseBody:{code:2e5,message:i}},t}})},a.default=r,Object.defineProperty(a,"__esModule",{value:!0}),a})({});
