(function(o){"use strict";const{React:i,ReactNative:f}=vendetta.metro.common,{plugin:{storage:a},storage:{useProxy:m},ui:{components:{Forms:c}}}=vendetta,{FormRow:d,FormSection:h,FormSwitch:l}=c;function u(t){return m(a),i.createElement(d,{label:"Show the time of deletion",leading:i.createElement(l,{value:a.timestamps??!1,onValueChange:function(e){return a.timestamps=e}})})}const s={settings:u},{plugin:{storage:g},patcher:{before:p}}=vendetta;let n=[];return s.onLoad=function(){return s.onUnload=p("dispatch",vendetta.metro.common.FluxDispatcher,function(t){const[e]=t;if(e.type==="MESSAGE_DELETE"){if(n.includes(e.id))return delete n[n.indexOf(e.id)],t;let r="This message was deleted.";return r+=g.timestamps?` (${vendetta.metro.common.moment(new Date).toLocaleString()})`:"",console.log(r),n.push(e.id),t[0]={type:"MESSAGE_EDIT_FAILED_AUTOMOD",messageData:{type:1,message:{channelId:e.channelId,messageId:e.id}},errorResponseBody:{code:2e5,message:r}},t}})},o.default=s,Object.defineProperty(o,"__esModule",{value:!0}),o})({});
